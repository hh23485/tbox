---
description: 4月22日面试头条
---

# 2018-04-22-huminghao

一面

面试官据说是二号员工，面试官一路非常严肃，大概整个流程是这样：

### 1. 简单介绍一下自己



### 2. 你一直使用Java，Java里面的JVM的作用是什么

compile once, run everywhere

### 3. JVM里面的垃圾回收机制是什么样的，在不同的版本里面有什么区别

cms

g1

### 4. 来一个算法题，如果有两个有序数组，找到两个数组中的第 k 大元素，考虑存在重复元素和非重复元素的情况

没做出来

### 5. 写一个随机洗牌的算法，并证明是它是随机的

换成这个



二面：

二面面试官和蔼很多，主动告诉我说你一面面试官非常厉害，公司排上号的，查了一下是2号员工，emmm。然后说三面更厉害。。。

### 1. 简单介绍一下你自己



### 2. 来做一个题，输入一个二叉树节点，返回该二叉树中序遍历的下一个访问的节点。

```text
class TreeNode{
    TreeNode left, next, right;
    int val;
}
```

3种情况

### 3. 你Java用的还行吧，我们聊聊JAVA里面的数据结构，比如Map怎么样，JAVA里面有哪些Map。



### 4. ConcurrentHashMap里面用的什么来实现的，CAS的原理是什么，在操作系统层面做了什么操作？



### 5. 你数据库怎么样，对于一个InnoDB的数据库引擎，创建了一个数据库之后，它的底层是什么样子的？



### 6. 你的网络怎么样，你知道 epoll 不，它为什么这么快？

### 7. 什么是软连接什么是硬链接



### 7. 你的操作系统怎么样，问一个简单的，进程的通讯是什么样子嗯，进程之间有哪些状态转换，转换的条件是什么？



### 8. 进程和线程的区别是什么，为什么有些应用选择多进程而不是多线程 nginx



### 9. 还有什么擅长的，设计模式，面试官：不想聊设计模式，就先这样吧



### 10. 为什么要换语言

工作需要，并且想要做语言无关的工作。



三面：

### 1. 介绍一下自己



### 2. 你玩过抢红包吧，设计一个抢红包的算法吧，要求保证：

* 每个人至少有1分钱可以拿
* 随机的获取红包金额，不能先来的就越大
* 尽可能增大每个人取值的区间

这里秀了一波常识，double并不能用来存储红包金额，因为会因为精度问题导致对账问题。



### 3. 现在要上线抢红包，你来设计一下接口和验证流程：

需要注意的是，抢红包有三个问题：

* 保证不能重复抢
* 需要群组鉴权
* 日志和支付可以异步

犯傻了，最开始设计成了Get方法，事实上是 post。。。

### 4. 把数据库设计一下

从er图开始画，再根据范式进行设计。er图画完就结束了面试。

