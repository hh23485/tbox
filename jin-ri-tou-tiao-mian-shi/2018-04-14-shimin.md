## 一面

一面提前去了，结果前面一个面试官没结束面试，后面给换了一个面试官。

问的问题很多，只能凭记忆来了。

1. 先自我介绍一下。

2. 你这个时空索引是什么，怎么做分布式时空索引说一下

3. 说一下你这个项目吧，你在这个项目中主要干什么

4. 你对锁了解多少？无锁HashMap怎么设计？（这个自己找死，索性面试官接了个电话换了个话题）

4. 你对Hadoop了解多少？知道HDFS的机制吗？是如何分块的，每块保存多少份？为什么分块大小是这个？介绍一下Namenode和datanode。

5. 介绍一下MapReduce怎么做到？在map阶段和reduce阶段分别做了什么工作？

6. 你这些语言都会吗？（c,python,scala)强行扯了一波怎么学习Scala的（基本上就是Coursera的课）

7. jvm的内存怎么划分的？什么是本地方法栈？

8. java的锁了解吗？有哪些锁，都说一下？

9. 进程与线程的区别

10. 进程的通信方式

11. 进程的内存模型（没理解具体要问什么，直接跳过）

12. 什么时候会引起进程的切换？加锁会让进程切换吗？（自旋锁）

12. 写一道题：二叉树的层次遍历。写完解释一下意思，面试官问用递归怎么写？简单描述了一下思想。

13. 你有什么问题需要问我的？问了一下部门具体干什么的，偏业务还是偏底层。面试官说偏业务

14. 时间到了，就不问网络了

## 二面

1. 自我介绍一下

2. 我先看看一面面试官都问了你啥？你先做一道题，给出了一道题，给出输入输出，反转字符串。比如“  abc  hello sam ”反转成“  cba olleh sam ”。

3. 你说一下你第一个项目？storm和jstorm有啥区别？

4. Kafka你了解多少？kafka的基本概念说一下？你们这么项目是怎么使用kafka的？多个消费者同时消费一个topic，它们如何消费的？

5. 你这里用到了redis，了解redis吗？（不了解，换了一个）

6. 你这里一旦没写入redis，但是消费了该数据，怎么保证数据的正确性。讲到实际场景数据要exact at once。说了一下jstorm的保证机制，没达到点上，后面又说用事务来做。面试官说还没到点上。后面给我解释了一下。

7. 你对hadoop、spark了解多少？用过多少？你还了解其他大数据相关的东西吗？说了一下毕设中了解的raft算法，以及说了一些raft的基本原理。

8. 你们这个云集存储项目是干啥的？这里把项目介绍了一下。

9. 你用mysql吗？（不用，我用pg）

10. 用到什么程度？简单的表，在处理时并不复杂。

11. 再做一道题。[1 1 2 2 3 3 4 5 5]原地去重，要求最后[1 2 3 4 5 1 2 3 5]前5个数是去重的结果，后面的数是重复的数，顺序随意。要求原地，并且面试官强调代码只有10几行，写多了肯定错。

12. 写完看了一下。面试发现一个小问题，给说了一下，一开始没理解，后面理解了说把语句调到前面就行。他说没问题。

13. 你了解哪些保证线程安全的手段？

14. 进程通信共享内存是怎么做的？两个进程的地址是否一样？

15. int32负数怎么表示

16. HashMap的长度为什么是2的n次方

17. 你有什么问题要问的？（这边实习需要全职吗？喜欢全职，一般要求4天）

## 三面

都不知道自己在干啥？

面试官给出了一个情景题，有两个数据集A和B，A的属性字段有(logid, uid, item_id, attrs1, ts)，B的属性字段有(logid, uid, item_id, attrs2, ts)，把这两个东西合并。用你最喜欢的方式。

一开始题目意思都没有理解，向他请教了一波，问他是否是join操作，是否是写SQL语句。面试官给我说，你可以理解为join操作，不一定使用SQL语句，用你最熟悉的方式解决这个问题。

强行说了一波MapReduce怎么做，面试官给纠正了，这么做存在什么问题？后面又给A和B加了一些限定条件，问我怎么做？比如A里面uid, item_id可能有多行，你怎么merge。所幸说了一个笛卡儿积，后面才可以继续下去。

后面有限定了B里面没有重复，要么为0，要么为1。怎么做？你先写一个试试？

写了一个。分析一下时间复杂度，后面还有没有更优化的方案，你这里为什么要排序？（便于查找）怎么利用只有0和1这个条件？后面换成Map来做，又分析了一波时间复杂度。

上述场景切换到流式场景，你怎么做？先写个伪代码，解释一下思路。

后面没写伪代码，只是说了一下思路。后面问，A和B那个可以删除？我去这里又蒙蔽了。后面他把条件说了一下，又分析了一波，觉得A和B里的元素都不能删除。他分析了一下，说再想想，后面分析了一波，说A里面凡是B里有的可以删除，没有的不能删除。

这里的问题整理有点乱，关键是我自己都没理解面试官的意思。

面试官表示要看一下一面面试官和二面面试都问了我啥？然后就说，我们来看一下网络吧，你平时搞网络编程吗？（答：不搞网络编程，毕设在做p2p相关，跟网络相关）你说一下网络编程的一些接口吧，没说出啥，因为这里已经蒙蔽了。

超时的发生原因是什么？ping一个错误的地址为什么一直挂着不动？超时和网络错误分别发生在什么场景下？连接一个错误的IP地址是发生超时还是直接报错？

这里真的问蒙蔽了，因为平时没看过这些东西？

所以后面有问了锁的相关知识，同样这里不会。

面试官无奈，你最擅长的东西是啥？我思考半天（可能是刷题吧）。你前前后后刷了多少题目？什么是leetcode？为什么要加锁？嗯嗯，我问完了，你先回去吧。

呵呵，凉凉。三面被完虐啊。